"use strict";var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var Validator_1=__importDefault(require("./Validator")),constants_1=require("../constants"),PatternValidator=function(r){function e(t,e){return void 0===t&&(t=constants_1.ValidationKeys.PATTERN),void 0===e&&(e=constants_1.DEFAULT_ERROR_MESSAGES.PATTERN),r.call(this,t,e)||this}return __extends(e,r),e.prototype.getPattern=function(t){if(!e.regexpParser.test(t))return new RegExp(t);t=t.match(e.regexpParser);return new RegExp(t[1],t[2])},e.prototype.hasErrors=function(t,e,r){if(t)return(e="string"==typeof e?this.getPattern(e):e).test(t)?void 0:this.getMessage(r||this.message)},e.regexpParser=new RegExp("^/(.+)/([gimus]*)$"),e}(Validator_1.default);exports.default=PatternValidator;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRpb24vVmFsaWRhdG9ycy9QYXR0ZXJuVmFsaWRhdG9yLmpzIiwidmFsaWRhdGlvbi9WYWxpZGF0b3JzL1BhdHRlcm5WYWxpZGF0b3IudHMiXSwibmFtZXMiOlsiX19leHRlbmRzIiwidGhpcyIsImV4dGVuZFN0YXRpY3MiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIkFycmF5IiwiZCIsImIiLCJfX3Byb3RvX18iLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfXyIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJWYWxpZGF0b3JfMSIsInJlcXVpcmUiLCJjb25zdGFudHNfMSIsIlBhdHRlcm5WYWxpZGF0b3IiLCJfc3VwZXIiLCJrZXkiLCJtZXNzYWdlIiwiVmFsaWRhdGlvbktleXMiLCJQQVRURVJOIiwiREVGQVVMVF9FUlJPUl9NRVNTQUdFUyIsImdldFBhdHRlcm4iLCJwYXR0ZXJuIiwicmVnZXhwUGFyc2VyIiwidGVzdCIsIlJlZ0V4cCIsIm1hdGNoIiwiaGFzRXJyb3JzIiwidW5kZWZpbmVkIiwiZ2V0TWVzc2FnZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBSUEsVUFBYUMsTUFBUUEsS0FBS0QsV0FBZSxXQUF6Q0EsSUFBQUEsRUFBcUIsU0FBS0EsRUFBQUEsR0FHakIsT0FGTEUsRUFBZ0JDLE9BQUFDLGdCQUNoQkYsQ0FBQUEsVUFBc0IsY0FBTkcsT0FDWCxTQUFBQyxFQUFBQyxHQUFBRCxFQUFBRSxVQUFBRCxJQUFFQyxTQUFXRixFQUFBQyxHQUFBLElBQUEsSUFBQUUsS0FBQUYsRUFBQUosT0FBQU8sVUFBQUMsZUFBQUMsS0FBQUwsRUFBQUUsS0FBQUgsRUFBQUcsR0FBQUYsRUFBQUUsTUFBeUJILEVBQUFDLElBQW9DLE9BQzNFLFNBQUFELEVBQUFDLEdBQWtCLEdBQWlCLG1CQUFqQkEsR0FBc0NJLE9BQVZELEVBRmxELE1BQUEsSUFBQUcsVUFBQSx1QkFBQUMsT0FBQVAsR0FBQSxpQ0FHQSxTQUFPTCxJQUFhRCxLQUFBYyxZQUFwQlQsRUFLQUosRUFBY0ksRUFBR0MsR0FUckJELEVBQUFJLFVBQUEsT0FBQUgsRUFBQUosT0FBQWEsT0FBQVQsSUFBQVUsRUFBQVAsVUFBQUgsRUFBQUcsVUFBQSxJQUFBTyxJQUR5QyxHQVFyQ0MsZ0JBQWlCakIsTUFBYkEsS0FBNEJpQixpQkFDdEIsU0FBQUMsR0FDVmpCLE9BQUFBLEdBQWFpQixFQUFiQyxXQUFBRCxFQUFBLENBQUFFLFFBQUFGLElBQ0FoQixPQUFBbUIsZUFBY0MsUUFBQSxhQUFBLENBQUFDLE9BQUEsSUNadEIsSUFBQUMsWUFBQVAsZ0JBQUFRLFFBQUEsZ0JBQ0FDLFlBQUFELFFBQUEsZ0JBVUFFLGlCQUFBLFNBQUFDLEdBR0ksU0FBQUQsRUFBWUUsRUFBc0NDLEdERWxEYixZQ0ZZLElBQUFZLElBQUFBLEVBQWNILFlBQUFLLGVBQWVDLGNBQVMsSUFBQUYsSUFBQUEsRUFBa0JKLFlBQUFPLHVCQUF1QkQsU0FDdkZKLEVBQUFqQixLQUFBWCxLQUFNNkIsRUFBS0MsSUFBUTlCLEtBZ0IzQixPQXBCOENELFVBQUE0QixFQUFBQyxHQU9sQ0QsRUFBQWxCLFVBQUF5QixXQUFSLFNBQW1CQyxHQUNmLElBQUtSLEVBQWlCUyxhQUFhQyxLQUFLRixHQUNwQyxPQUFPLElBQUlHLE9BQU9ILEdBQ2hCSSxFQUFhSixFQUFRSSxNQUFNWixFQUFpQlMsY0FDbEQsT0FBTyxJQUFJRSxPQUFPQyxFQUFNLEdBQUlBLEVBQU0sS0FHdENaLEVBQUFsQixVQUFBK0IsVUFBQSxTQUFVakIsRUFBZVksRUFBMEJMLEdBQy9DLEdBQUtQLEVBR0wsT0FEQVksRUFBNkIsaUJBQVpBLEVBQXVCbkMsS0FBS2tDLFdBQVdDLEdBQVdBLEdBQ25ERSxLQUFLZCxRQUFvRGtCLEVBQTNDekMsS0FBSzBDLFdBQVdaLEdBQVc5QixLQUFLOEIsVUFqQjFDSCxFQUFBUyxhQUF1QixJQUFJRSxPQUFPLHNCQW1COURYLEVBcEJBLENBQThDSCxZQUFBSixTQUcxQ0UsUUFBQUYsUUFIaUJPIiwiZmlsZSI6InZhbGlkYXRpb24vVmFsaWRhdG9ycy9QYXR0ZXJuVmFsaWRhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFZhbGlkYXRvcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhbGlkYXRvclwiKSk7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xudmFyIFBhdHRlcm5WYWxpZGF0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQYXR0ZXJuVmFsaWRhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBhdHRlcm5WYWxpZGF0b3Ioa2V5LCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChrZXkgPT09IHZvaWQgMCkgeyBrZXkgPSBjb25zdGFudHNfMS5WYWxpZGF0aW9uS2V5cy5QQVRURVJOOyB9XG4gICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IGNvbnN0YW50c18xLkRFRkFVTFRfRVJST1JfTUVTU0FHRVMuUEFUVEVSTjsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywga2V5LCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgIH1cbiAgICBQYXR0ZXJuVmFsaWRhdG9yLnByb3RvdHlwZS5nZXRQYXR0ZXJuID0gZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICAgICAgaWYgKCFQYXR0ZXJuVmFsaWRhdG9yLnJlZ2V4cFBhcnNlci50ZXN0KHBhdHRlcm4pKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICAgIHZhciBtYXRjaCA9IHBhdHRlcm4ubWF0Y2goUGF0dGVyblZhbGlkYXRvci5yZWdleHBQYXJzZXIpO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0pO1xuICAgIH07XG4gICAgUGF0dGVyblZhbGlkYXRvci5wcm90b3R5cGUuaGFzRXJyb3JzID0gZnVuY3Rpb24gKHZhbHVlLCBwYXR0ZXJuLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBhdHRlcm4gPSB0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycgPyB0aGlzLmdldFBhdHRlcm4ocGF0dGVybikgOiBwYXR0ZXJuO1xuICAgICAgICByZXR1cm4gIXBhdHRlcm4udGVzdCh2YWx1ZSkgPyB0aGlzLmdldE1lc3NhZ2UobWVzc2FnZSB8fCB0aGlzLm1lc3NhZ2UpIDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUGF0dGVyblZhbGlkYXRvci5yZWdleHBQYXJzZXIgPSBuZXcgUmVnRXhwKFwiXlxcLyguKylcXC8oW2dpbXVzXSopJFwiKTtcbiAgICByZXR1cm4gUGF0dGVyblZhbGlkYXRvcjtcbn0oVmFsaWRhdG9yXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUGF0dGVyblZhbGlkYXRvcjsiLCJpbXBvcnQgVmFsaWRhdG9yIGZyb20gXCIuL1ZhbGlkYXRvclwiO1xuaW1wb3J0IHtWYWxpZGF0aW9uS2V5cywgREVGQVVMVF9FUlJPUl9NRVNTQUdFU30gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtFcnJvcnN9IGZyb20gXCIuLi90eXBlc1wiO1xuXG4vKipcbiAqIFBhdHRlcm4gVmFsaWRhdG9yXG4gKlxuICogQGNsYXNzIFBhdHRlcm5WYWxpZGF0b3JcbiAqIEBleHRlbmRzIFZhbGlkYXRvclxuICogQG1lbWJlck9mIFZhbGlkYXRvcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0dGVyblZhbGlkYXRvciBleHRlbmRzIFZhbGlkYXRvciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgcmVnZXhwUGFyc2VyOiBSZWdFeHAgPSBuZXcgUmVnRXhwKFwiXlxcLyguKylcXC8oW2dpbXVzXSopJFwiKTtcblxuICAgIGNvbnN0cnVjdG9yKGtleTogc3RyaW5nID0gVmFsaWRhdGlvbktleXMuUEFUVEVSTiwgbWVzc2FnZTogc3RyaW5nID0gREVGQVVMVF9FUlJPUl9NRVNTQUdFUy5QQVRURVJOKXtcbiAgICAgICAgc3VwZXIoa2V5LCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBhdHRlcm4ocGF0dGVybjogc3RyaW5nKTogUmVnRXhwIHtcbiAgICAgICAgaWYgKCFQYXR0ZXJuVmFsaWRhdG9yLnJlZ2V4cFBhcnNlci50ZXN0KHBhdHRlcm4pKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICAgIGNvbnN0IG1hdGNoOiBhbnkgPSBwYXR0ZXJuLm1hdGNoKFBhdHRlcm5WYWxpZGF0b3IucmVnZXhwUGFyc2VyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKTtcbiAgICB9XG5cbiAgICBoYXNFcnJvcnModmFsdWU6IHN0cmluZywgcGF0dGVybjogUmVnRXhwIHwgc3RyaW5nLCBtZXNzYWdlPzogc3RyaW5nKTogRXJyb3JzIHtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF0dGVybiA9IHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJyA/IHRoaXMuZ2V0UGF0dGVybihwYXR0ZXJuKSA6IHBhdHRlcm47XG4gICAgICAgIHJldHVybiAhcGF0dGVybi50ZXN0KHZhbHVlKSA/IHRoaXMuZ2V0TWVzc2FnZShtZXNzYWdlIHx8IHRoaXMubWVzc2FnZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxufSJdfQ==
